<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<html>
	<head>
		<title>OpenShop</title>
	</head>
	<body>
		<h2>23 Понятие нормальности в системах open shop</h2>
		<p>
			<b>Определение 23.1</b> Допустимое расписание длины L<sub>max</sub> называется <i>нормальным</i>.
			Пример задачи open shop, обладающий нормальным расписанием, называется <i>нормальным</i>. 
			Подмножество нормальных примеров называется <i>нормальным классом</i>. Если существует 
			алгоритм полиномиальной трудоемкости, который для любого примера из
			заданного нормального класса находит его нормальное (а следовательно, оптимальное)
			расписание, то нормальный класс называется <i>эффективно-нормальным классом</i>.
		</p>
		<h2>25 Нахождение эффективно нормальных классов с использованием нестрогого суммирования векторов</h2>
		<p>
		<b>Теорема 25.1</b> Пусть имеется алгоритм A, который для некоторого m ≥ 2 и
			любого s-семейства векторов <img src="images/5.png" /> с трудоемкостью T<sub>A</sub>(m−1, n)
			решает задачу НСВ1(m − 1) с гарантированной оценкой
			<div><img src="images/6.png" /> (25.1)</div>
			Тогда существует алгоритм, который для всякого примера задачи open shop с m
			машинами и n работами, удовлетворяющего условию
			<div><img src="images/7.png" /> (25.2)</div>
			с трудоемкостью O(T<sub>A</sub>(m−1, n) + mn) находит оптимальное расписание длины L<sub>max</sub>.
		</p>		
		<p>
			<b>Доказательство.</b>Приведем описание алгоритма A построения оптимального 
			расписания в задаче OS при условии выполнения (25.2) и в условиях теоремы 25.1.
		</p>
		<p><b>Алгоритм A</b></p>
		<p>
			<b>Шаг 1.</b> Сохраняя неизменными величины L<sub>max</sub> и p<sub>max</sub>, увеличим длительности 
			отдельных операций так, чтобы выполнялись равенства (22.9). (Трудоемкость шага равна
			O(mn).) Чтобы не менять обозначения всех величин, зависящих от величин {p<sub>ji</sub>}, будем
			предполагать, что равенства (22.9) выполнялись для исходной матрицы (p<sub>ji</sub>).
			Определим векторы <img src="images/8.png" />, согласно (22.11). Из (22.9) и определения
			нормы s<sup>^</sup> следует, что если величину p<sub>max</sub> принять за новую единицу измерения времени,
			то семейство векторов D = {d<sub>1</sub>,..., d<sub>n</sub>} становится s^-семейством в пространстве <img src="images/9.png" />.
		</p>
		<p>
			<b>Шаг 2.</b> Применив к семейству D алгоритм A из условия теоремы, найдем перестановку 
			π = (π<sub>1</sub>,..., π<sub>n</sub>), задающую нестрогое суммирование векторов из D семействе
			полупространств
			<div><img src="images/10.png" /><div>
			где <img src="images/11.png" />,
			<div><img src="images/12.png" /> (25.3)</div>
			Трудоемкость шага 2 совпадает с трудоемкостью алгоритма A, т.е. равна O(T<sub>A</sub>(m−1,n)).
		</p>
		<p>
			<b>Шаг 3.</b> Для примера, полученного на шаге 1, построим нормальное расписание
			согласно следующему алгоритму.
			Для каждой машины M<sub>i</sub> ∈ M построим независимое расписание S<sub>i</sub> , начинающееся
			в момент 0 и такое, что операции работ J<sub>j</sub> ∈ J выполняются подряд без простоев в
			одном и том же порядке, задаваемом перестановкой π. Из (22.9) следует, что каждая
			машина работает непрерывно в интервале [0, L<sub>max</sub> ]. (Очевидно, что набор расписаний
			{S<sub>1</sub>,...,S<sub>m</sub> }, вообще говоря, не образует допустимого расписания для всего примера.)
			В последующем эти расписания претерпят ряд сдвигов вправо, при этом часть расписания, 
			выходящая за границу интервала [0, L<sub>max</sub> ], будет отсекаться и перемещаться
			в начало этого интервала. Таким образом, расписания работы машин M<sub>i</sub> ∈ M удобно 
			представлять находящимися на “барабане” с длиной окружности, равной L<sub>max</sub> , где
			каждое расписание Si представлено независимо вращающимся "кольцом" K<sub>i</sub> . При этом
			считаем, что кольцо K<sub>1</sub> остается неподвижным и начало расписания S<sub>1</sub> задает точку
			отсчета времени. Положим
			<div><img src="images/13.png" /> (25.4)<div>
			где величины P<sup>k</sup><sub>π</sub>(i,i+1) определены согласно (22.13), а при определении P<sup>k</sup><sub>π</sub>(m,m+1)
			предполагаем, что <img src="images/15.png" />
			Пусть k<sup>∗</sup> — (первое) значение k, на котором достигается максимум величины, стоящей 
			в правой части (25.4) при i=1. Таким образом,
			<div><img src="images/14.png" /> (25.5)<div>
		</p>
		<p>
			Выполним m−1 последовательных поворотов (будем нумеровать их от 2 до m) колец
			K<sub>2</sub> , . . . , K<sub>m</sub> , оставляя кольцо K<sub>1</sub> на месте.
		</p>
		<p>
			ПОВОРОТ 2. Повернем каждое из колец K<sub>2</sub> , . . . , K<sub>m</sub> вправо на величину ∆<sub>1</sub>, 
			сохраняя неизменным их взаимное расположение. С учетом (25.5), момент <img src="images/16.png" /> совпадет
			с моментами окончания операции работы <img src="images/17.png" /> на машине M<sub>1</sub> и операции работы π<sub>k∗-1</sub>
			на машине M<sub>2</sub>. Момент t<sup>∗</sup> принимаем за будущую точку разрезания расписания на
			“барабане”.
		</p>
		<p>
			ПОВОРОТ ν (ν = 3, . . . , m). Повернем каждое из колец K<sub>ν</sub> , . . . , K<sub>m</sub> вправо на величину
			∆<sub>ν−1</sub> , и затем — еще на минимальную величину δ<sub>ν−1</sub> ≥ 0 (дополнительный поворот),
			достаточную для того, чтобы момент t<sup>∗</sup> совпал с моментом окончания какой-то операции
			машины M<sub>ν</sub>. Ясно, что
			<div><img src="images/18.png" /> (25.6)<div>
		</p>
		<p>
			Суммарный (по всем m−1 поворотам) поворот кольца K<sub>m</sub> вправо относительно
			кольца K<sub>1</sub> равен <img src="images/20.png" /> что эквивалентно его повороту влево на
			L<sub>max</sub> − ∆' , или повороту кольца K<sub>1</sub> вправо относительно K<sub>m</sub> на эту же величину.
			Нетрудно убедиться, что если
			<div><img src="images/19.png" /> (25.7)<div>
			то полученное в результате всех поворотов колец расписание S будет допустимым на
			барабане. Это означает, что интервалы выполнения любых двух операций одной и той
			же работы не пересекаются.
		</p>
		<p>
			Теперь для получения из S допустимого расписания длины L<sub>max</sub> достаточно 
			разрезать все кольца в точке t<sup>∗</sup> . Поскольку при этом ни для какой операции интервал
			ее выполнения не будет разрезан (что обеспечено величинами {δ<sub>ν</sub>} дополнительных
			поворотов), полученное расписание является допустимым. Очевидно, что оно будет
			допустимым и для исходной матрицы (более коротких) длительностей операций, имеющейся на входе до шага 1.
		</p>
		<p>
			Трудоемкость шага 3 складывается из трудоемкости вычисления величин <img src="images/20.png" /> 
			согласно (22.12), величин <img src="images/21.png" /> — согласно
			(22.13), величин ∆<sub>i</sub> поворота каждого кольца K<sub>i</sub> , i ∈ N<sub>m</sub> , определенных согласно (25.4),
			и наконец, из вычисления величин δ<sub>i</sub> дополнительного поворота этих колец. Ясно, что
			все эти вычисления могут быть выполнены за O(mn) операций.
		</p>
		<p>
			Алгоритм A описан.
		</p>
	</body>
</html>